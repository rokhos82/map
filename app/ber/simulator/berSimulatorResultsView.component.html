<div class="row">
  <div class="col-lg-12">
    <h2>{{$ctrl.simulation.name}} Results</h2>
    <div class="panel panel-default" ng-repeat="turn in $ctrl.simulation.turns track by $index">
      <div class="panel-heading">Turn {{$index}}</div>
      <table class="table table-striped table-hover" ng-if="turn.events.length > 0">
        <thead>
          <tr>
            <th>ID</th>
            <th>Type</th>
            <th>Actor</th>
            <th>Actee</th>
            <th>Message</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="(id,event) in turn.events track by id">
            <td>{{id+1}}</td>
            <td>{{event.type}}</td>
            <td>{{event.actor}}</td>
            <td>{{event.actee}}</td>
            <td>{{event.msg}}</td>
          </tr>
        </tbody>
      </table>
      <div class="panel-body">
        <div class="panel panel-default" ng-repeat="fleet in turn.fleets">
          <div class="panel-heading">Fleet: {{fleet.name}}</div>
          <table class="table table-striped table-hover">
            <thead>
              <tr>
                <th>Name</th>
                <th>B</th>
                <th>S</th>
                <th>T</th>
                <th>H</th>
                <th>UDL</th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="unit in fleet.units">
                <td>{{unit.name}}</td>
                <td>{{unit.bmCur}}</td>
                <td>{{unit.shCur}}</td>
                <td>{{unit.tpCur}}</td>
                <td>{{unit.hlCur}}</td>
                <td></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="panel-footer">End Turn {{$index}}</div>
    </div>
  </div>
</div>
<div class="row">
  <div class="col-lg-12">
    <div class="well">
      <pre>{{$ctrl.simulation | json}}</pre>
    </div>
  </div>
</div>
